let accordionItemBtn = document.querySelectorAll(".accordion__item-btn");
accordionItemBtn.forEach((e => { e.addEventListener("click", (() => { e.parentElement.classList.toggle("active"); })); }));
let modalBoxAnswer = document.querySelectorAll(".modal__box-answer");
modalBoxAnswer.forEach((e => { e.addEventListener("click", (() => { e.classList.toggle("active"); })); }));
let modalBoxClose = document.querySelectorAll(".modal__box-close");
modalBoxClose.forEach((e => { e.addEventListener("click", (() => { modalBox.forEach((e => { e.classList.remove("active"); })), document.querySelector(".modal__box").classList.add("active"), modalBoxAnswer.forEach((e => { e.classList.remove("active"); })); })); }));
let modalBoxBtn = document.querySelectorAll(".modal__box-btn"),
    modalBox = document.querySelectorAll(".modal__box");
let activeModal = document.querySelector(".modal__box.active");

modalBoxBtn.forEach((btn, i) => {
  btn.addEventListener("click", () => {
    // remove the active class from the current modal box
    activeModal.classList.remove("active");
    
    // add the active class to the next modal box
    modalBox[i+1].classList.add("active");
    
    // set the new active modal box for the next click
    activeModal = modalBox[i+1];
  });
});

//запись ответов
// получаем все кнопки
const btns = document.querySelectorAll('.modal__box-answer');

// для каждой кнопки добавляем обработчик клика
btns.forEach((btn) => {
  btn.addEventListener('click', () => {
    // получаем значение текста из .modalbox-answer
    const answerText = btn.textContent.trim();
    // ищем инпут с таким значением
    const input = document.querySelector(`input[value="${answerText}"]`);

    // если инпут уже есть, то удаляем его
    if (input) {
      input.remove();
      return;
    }

    // создаем новый инпут
    const newInput = document.createElement('input');
    newInput.type = 'hidden';
    newInput.name = 'answer';
    newInput.value = answerText;

    // добавляем новый инпут в .modalbox-form
    document.querySelector('.modal__box-form').appendChild(newInput);
  });
});
